# StreamDevice Protocol File for PPT Modulator Binary TCP Stream
# Total data size: 43 words (86 bytes)
# Each word is 2 bytes (LSB + MSB)
# Device responds on TCP port 2000

# Terminator for binary protocols
Terminator = "";
ReplyTimeout = 1000;
ReadTimeout = 100;

# Read all data as one binary block (86 bytes)
readAllData {
    in "%86r";
}

# Individual parameter readers using offset positioning
# Format: in "%*<skip_bytes>r %2r" to skip to position and read 2 bytes

readHeaterVoltage1 {
    in "%2r";  # WORD0-1: bytes 0-3
}

readReservoirVoltage {
    in "%*4r %2r";  # WORD2-3: skip 4, read bytes 4-7
}

readTotalCurrent {
    in "%*8r %2r";  # WORD4-5: skip 8, read bytes 8-11
}

readTimerPreheatingMin {
    in "%*12r %2r";  # WORD6-7: skip 12, read bytes 12-15
}

readTimerPreheatingSec {
    in "%*16r %2r";  # WORD8-9: skip 16, read bytes 16-19
}

readInterlockMessages1 {
    in "%*20r %2r";  # WORD10-11: skip 20, read bytes 20-23
}

readStatusMessages1 {
    in "%*24r %2r";  # WORD12-13: skip 24, read bytes 24-27
}

readHeaterVoltage2 {
    in "%*28r %2r";  # WORD14-15: skip 28, read bytes 28-31
}

readHeaterCurrent {
    in "%*32r %2r";  # WORD16-17: skip 32, read bytes 32-35
}

readBodyWaterInputTemp {
    in "%*36r %2r";  # WORD18-19: skip 36, read bytes 36-39
}

readBodyWaterOutputTemp {
    in "%*40r %2r";  # WORD20-21: skip 40, read bytes 40-43
}

readBodyWaterFlow {
    in "%*44r %2r";  # WORD22-23: skip 44, read bytes 44-47
}

readTimerPreheat100Min {
    in "%*48r %2r";  # WORD24-25: skip 48, read bytes 48-51
}

readTimerPreheat100Sec {
    in "%*52r %2r";  # WORD26-27: skip 52, read bytes 52-55
}

readInterlockMessages2 {
    in "%*56r %2r";  # WORD28-29: skip 56, read bytes 56-59
}

readStatusMessages2 {
    in "%*60r %2r";  # WORD30-31: skip 60, read bytes 60-63
}

readKlystronVoltage {
    in "%*64r %2r";  # WORD32-33: skip 64, read bytes 64-67
}

readKlystronCurrent {
    in "%*68r %2r";  # WORD34-35: skip 68, read bytes 68-71
}

readMagnetVoltageCoil1 {
    in "%*72r %2r";  # WORD36-37: skip 72, read bytes 72-75
}

readMagnetCurrentCoil1 {
    in "%*76r %2r";  # WORD38-39: skip 76, read bytes 76-79
}

readMagnetVoltageCoil2 {
    in "%*80r %2r";  # WORD40-41: skip 80, read bytes 80-83
}

readMagnetCurrentCoil2 {
    in "%*84r %2r";  # WORD42: skip 84, read bytes 84-85 (END OF 86 BYTE DATA)
}

# Note: The following protocols are defined but expect data beyond 86 bytes
# Comment them out if device only sends 86 bytes

# readMagnetVoltageCoil3 {
#     in "%*88r %2r";  # WORD44-45: skip 88, read bytes 88-91
# }
# 
# readMagnetCurrentCoil3 {
#     in "%*92r %2r";  # WORD46-47: skip 92, read bytes 92-95
# }
# 
# readInterlockMessages3 {
#     in "%*96r %2r";  # WORD48-49: skip 96, read bytes 96-99
# }
# 
# readStatusMessages3 {
#     in "%*100r %2r";  # WORD50-51: skip 100, read bytes 100-103
# }
# 
# readMagnetVoltage {
#     in "%*104r %2r";  # WORD52-53: skip 104, read bytes 104-107
# }
# 
# readMagnetCurrent {
#     in "%*108r %2r";  # WORD54-55: skip 108, read bytes 108-111
# }
# 
# readInterlockMessages4 {
#     in "%*112r %2r";  # WORD56-57: skip 112, read bytes 112-115
# }
# 
# readStatusMessages4 {
#     in "%*116r %2r";  # WORD58-59: skip 116, read bytes 116-119
# }
# 
# readInterlockMessages5 {
#     in "%*120r %2r";  # WORD60-61: skip 120, read bytes 120-123
# }
# 
# readInterlockMessages6 {
#     in "%*124r %2r";  # WORD62-63: skip 124, read bytes 124-127
# }
# 
# readInterlockMessages7 {
#     in "%*128r %2r";  # WORD64-65: skip 128, read bytes 128-131
# }
# 
# readCounter {
#     in "%*132r %2r";  # WORD66-67: skip 132, read bytes 132-135
# }
# 
# readChargingVoltagePFN {
#     in "%*136r %2r";  # WORD68-69: skip 136, read bytes 136-139
# }
# 
# readTempWaterHVPS {
#     in "%*140r %2r";  # WORD70-71: skip 140, read bytes 140-143
# }
# 
# readInterlockMessages8 {
#     in "%*144r %2r";  # WORD72-73: skip 144, read bytes 144-147
# }
# 
# readStatusMessages5 {
#     in "%*148r %2r";  # WORD74: skip 148, read bytes 148-151
# }
# 
# readInterlockMessages9 {
#     in "%*150r %2r";  # WORD75: skip 150, read bytes 150-153
# }
# 
# readStatusMessages6 {
#     in "%*152r %2r";  # WORD76: skip 152, read bytes 152-155
# }