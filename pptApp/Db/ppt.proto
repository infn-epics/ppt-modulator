# StreamDevice Protocol File for PPT Modulator Binary TCP Stream
# Total data size: 43 words (86 bytes)
# Each word is 2 bytes (LSB + MSB = little-endian 16-bit unsigned)
# Device responds on TCP port 2000

# Terminator for binary protocols
Terminator = "";
ReplyTimeout = 1000;
ReadTimeout = 1000;
MaxInput = 156;            # maximum message length

# ============================================================================
# Read all available bytes into a waveform (variable length up to NELM)
# ============================================================================
readAllData {
    in "%r";             # read all available bytes (up to MaxInput/NELM)
}

# ============================================================================
# NOTES:
# ============================================================================
# - Protocol reads all available bytes with %c into a UCHAR waveform
# - The %c format without a count reads until timeout, terminator, or MaxInput limit
# - MaxInput is set to 156 bytes, NELM on waveform is 86 bytes
# - StreamDevice will set the waveform's NORD field to actual bytes received
# - An aSub record processes the byte array and extracts all 22 values
# - All 16-bit words are little-endian (LSB first, then MSB)
# - Single TCP read, atomic snapshot, all values decoded in one subroutine
# - With Terminator="", reads until ReadTimeout (100ms) or MaxInput reached
# ============================================================================
